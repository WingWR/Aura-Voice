测试 1: 精确匹配测试
输入: "打开客厅的灯"
✅ 找到 1 个匹配命令:
  1. 信号: 1 | 命令: "打开客厅的灯"
     类型: exact | 得分: 1.000
✅ 匹配类型正确: exact

测试 2: 词序变化测试
输入: "客厅灯打开"
✅ 找到 1 个匹配命令:
  1. 信号: 1 | 命令: "打开客厅的灯"
     类型: flexible | 得分: 1.000
✅ 匹配类型正确: flexible

测试 3: 多命令测试 - 连接词
输入: "打开客厅和卧室的灯"
✅ 找到 2 个匹配命令:
  1. 信号: 1 | 命令: "打开客厅的灯"
     类型: flexible | 得分: 1.000
  2. 信号: 6 | 命令: "打开卧室的灯"
     类型: flexible | 得分: 1.000
✅ 命令数量正确: 2

测试 4: 多命令测试 - 复杂表达
输入: "客厅灯打开，还有卧室的灯"
✅ 找到 2 个匹配命令:
  1. 信号: 1 | 命令: "打开客厅的灯"
     类型: flexible | 得分: 1.000
  2. 信号: 6 | 命令: "打开卧室的灯"
     类型: flexible | 得分: 1.000
✅ 命令数量正确: 2

测试 5: 混合设备测试
输入: "开启客厅灯光和音响"
✅ 找到 2 个匹配命令:
  1. 信号: 2 | 命令: "加大客厅的灯光"
     类型: flexible | 得分: 0.778
  2. 信号: b | 命令: "打开音响，放一首歌"      
     类型: flexible | 得分: 1.000
✅ 命令数量正确: 2

测试 6: 模糊匹配测试
输入: "关闭所有的灯"
✅ 找到 1 个匹配命令:
  1. 信号: 5 | 命令: "关闭客厅的灯光"
     类型: flexible | 得分: 1.000
❌ 匹配类型错误: 期望 fuzzy, 实际 flexible     

测试 7: 部分匹配测试
输入: "播放音乐"
❌ 失败: 未找到匹配的指令

测试 8: 复杂命令测试
输入: "转换客厅灯颜色"
✅ 找到 1 个匹配命令:
  1. 信号: 4 | 命令: "转换客厅的灯光颜色"      
     类型: flexible | 得分: 1.000
❌ 匹配类型错误: 期望 exact, 实际 flexible     


=== 关键词提取测试 ===

输入: "打开客厅的灯"
提取的关键词: {
  "locations": [
    "客厅"
  ],
  "devices": [
    "灯"
  ],
  "actions": [
    "打开"
  ],
  "connectors": [],
  "colors": [],
  "music": []
}

输入: "客厅灯打开"
提取的关键词: {
  "locations": [
    "客厅"
  ],
  "devices": [
    "灯"
  ],
  "actions": [
    "打开"
  ],
  "connectors": [],
  "colors": [],
  "music": []
}

输入: "开启卧室氛围灯和音响"
提取的关键词: {
  "locations": [
    "卧室"
  ],
  "devices": [
    "灯",
    "音响",
    "氛围灯"
  ],
  "actions": [
    "开启"
  ],
  "connectors": [
    "和"
  ],
  "colors": [],
  "music": []
}


=== 多命令分割测试 ===

输入: "打开客厅和卧室的灯"
分割结果: [ '打开客厅', '卧室的灯' ]

输入: "客厅灯打开，还有卧室的灯"
分割结果: [ '客厅灯打开', '卧室的灯' ]

输入: "开启客厅灯光和音响"
分割结果: [ '开启客厅灯光', '音响' ]

输入: "打开空调关闭音响"
分割结果: [ '打开空调', '关闭关闭' ]


=== 向后兼容性测试 ===
单命令匹配结果: {
  signal: '1',
  matchedCommand: '打开客厅的灯',
  matchType: 'exact',
  score: 1,
  input: '打开客厅的灯'
}

=== 测试完成 ===

🏠 智能家居命令匹配系统演示


1. 基础命令匹配
========================================

📝 输入: "打开客厅的灯"
✅ 找到 1 个匹配命令:
   1. 🎯 信号: 1
      📋 命令: "打开客厅的灯"
      🔍 类型: exact
      📊 得分: 100.0%

📝 输入: "客厅灯打开"
✅ 找到 1 个匹配命令:
   1. 🎯 信号: 1
      📋 命令: "打开客厅的灯"
      🔍 类型: flexible
      📊 得分: 100.0%

2. 多命令处理
========================================

📝 输入: "打开客厅和卧室的灯"
✅ 找到 2 个匹配命令:
   1. 🎯 信号: 1
      📋 命令: "打开客厅的灯"
      🔍 类型: flexible
      📊 得分: 100.0%
   2. 🎯 信号: 6
      📋 命令: "打开卧室的灯"
      🔍 类型: flexible
      📊 得分: 100.0%

📝 输入: "客厅灯打开，还有卧室的灯"
✅ 找到 2 个匹配命令:
   1. 🎯 信号: 1
      📋 命令: "打开客厅的灯"
      🔍 类型: flexible
      📊 得分: 100.0%
   2. 🎯 信号: 6
      📋 命令: "打开卧室的灯"
      🔍 类型: flexible
      📊 得分: 100.0%

3. 混合设备控制
========================================

📝 输入: "开启客厅灯光和音响"
✅ 找到 2 个匹配命令:
   1. 🎯 信号: 2
      📋 命令: "加大客厅的灯光"
      🔍 类型: flexible
      📊 得分: 77.8%
   2. 🎯 信号: b
      📋 命令: "打开音响，放一首歌"
      🔍 类型: flexible
      📊 得分: 100.0%

📝 输入: "打开空调关闭音响"
✅ 找到 2 个匹配命令:
   1. 🎯 信号: 9
      📋 命令: "打开空调"
      🔍 类型: exact
      📊 得分: 100.0%
   2. 🎯 信号: 5
      📋 命令: "关闭客厅的灯光"
      🔍 类型: flexible
      📊 得分: 100.0%

4. 智能匹配
========================================

📝 输入: "关闭所有的灯"
✅ 找到 1 个匹配命令:
   1. 🎯 信号: 5
      📋 命令: "关闭客厅的灯光"
      🔍 类型: flexible
      📊 得分: 100.0%

📝 输入: "转换客厅灯颜色"
✅ 找到 1 个匹配命令:
   1. 🎯 信号: 4
      📋 命令: "转换客厅的灯光颜色"
      🔍 类型: flexible
      📊 得分: 100.0%
